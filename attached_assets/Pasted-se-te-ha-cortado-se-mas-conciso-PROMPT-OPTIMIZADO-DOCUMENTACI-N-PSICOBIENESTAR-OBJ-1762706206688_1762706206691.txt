se te ha cortado, se mas conciso

# üìö PROMPT OPTIMIZADO - DOCUMENTACI√ìN PSICOBIENESTAR

***

## OBJETIVO

Genera una **documentaci√≥n t√©cnica completa** del proyecto **PsicoBienestar** en la carpeta `/docs` con los siguientes archivos:

***

## üìÅ ARCHIVOS A CREAR

### **1. /docs/README.md** - Visi√≥n General (300-400 l√≠neas)

**Contenido:**
- Descripci√≥n del proyecto y caracter√≠sticas principales
- Stack tecnol√≥gico (Frontend: React+TS+Vite+Shadcn, Backend: Node+Express+Prisma+PostgreSQL)
- Estructura de carpetas completa con explicaci√≥n de cada directorio
- Comandos de instalaci√≥n y ejecuci√≥n
- Variables de entorno necesarias
- Enlaces a otros documentos de la carpeta /docs

***

### **2. /docs/ARCHITECTURE.md** - Arquitectura (200-250 l√≠neas)

**Contenido:**
- Diagrama de arquitectura en formato Mermaid
- Descripci√≥n de las 3 capas: Presentaci√≥n (React), L√≥gica (Express), Datos (Prisma+PostgreSQL)
- Flujo de autenticaci√≥n JWT con diagrama de secuencia
- Patrones de dise√±o utilizados (MVC, Repository, Context API, Custom Hooks)
- Medidas de seguridad implementadas
- Estrategias de performance y cach√©

***

### **3. /docs/DATABASE.md** - Base de Datos (150-200 l√≠neas)

**Contenido:**
- Diagrama ERD en formato Mermaid mostrando relaciones entre tablas
- Lista de modelos principales con sus campos clave:
  - User (id, email, passwordHash, fullName, role)
  - Course (id, title, slug, price, level, isPublished)
  - Enrollment (userId, courseId, progressPercentage, paymentStatus)
  - Appointment (userId, appointmentDate, appointmentTime, status)
  - Article (title, slug, content, publishedAt)
- √çndices importantes
- Reglas de cascade delete
- C√≥mo ejecutar migraciones: `npx prisma migrate dev`

***

### **4. /docs/API.md** - Documentaci√≥n de APIs (400-500 l√≠neas)

**Contenido organizado por secciones:**

#### **Autenticaci√≥n**
```
POST /api/auth/register
POST /api/auth/login  
GET /api/auth/me (requiere token)
```

#### **Cursos P√∫blicos**
```
GET /api/courses
GET /api/courses/featured
GET /api/courses/:slug
```

#### **√Årea de Estudiante (requiere auth)**
```
GET /api/student/courses
GET /api/student/courses/:id/progress
POST /api/student/lessons/:id/complete
GET /api/student/certificates/:courseId
```

#### **Inscripciones (requiere auth)**
```
POST /api/enrollments
POST /api/enrollments/:id/payment
```

#### **Citas**
```
GET /api/appointments/availability?date=YYYY-MM-DD
POST /api/appointments (requiere auth)
GET /api/appointments/my-appointments (requiere auth)
```

#### **Art√≠culos**
```
GET /api/articles
GET /api/articles/:slug
```

#### **Admin (requiere role ADMIN)**
```
POST /api/admin/courses
PUT /api/admin/courses/:id
DELETE /api/admin/courses/:id
GET /api/admin/users
GET /api/admin/stats
```

**Para cada endpoint incluir:**
- M√©todo HTTP y URL
- Headers necesarios (Authorization: Bearer token)
- Body de ejemplo (request)
- Respuesta de ejemplo (success y error)
- C√≥digos de estado HTTP

***

### **5. /docs/ADMIN_MANUAL.md** - Manual del Administrador (200-250 l√≠neas)

**Contenido:**

#### **Inicio de Sesi√≥n**
- URL: `/login`
- Usar credenciales de admin creadas en seed

#### **Panel de Administraci√≥n** (`/admin`)

**Gesti√≥n de Cursos:**
- C√≥mo crear un curso nuevo (t√≠tulo, slug, descripci√≥n, precio, nivel, imagen)
- C√≥mo agregar m√≥dulos a un curso
- C√≥mo agregar lecciones a un m√≥dulo (contenido, video, recursos)
- C√≥mo publicar/despublicar cursos
- C√≥mo marcar curso como destacado

**Gesti√≥n de Art√≠culos:**
- Crear art√≠culo (t√≠tulo, slug, excerpt, contenido completo, imagen)
- Editar art√≠culo existente
- Publicar/despublicar art√≠culos

**Gesti√≥n de Usuarios:**
- Ver lista de usuarios registrados
- Cambiar rol de usuario (STUDENT ‚Üí ADMIN)
- Ver inscripciones de cada usuario

**Gesti√≥n de Citas:**
- Ver todas las citas agendadas
- Cambiar estado: PENDING ‚Üí CONFIRMED ‚Üí COMPLETED
- Cancelar citas

**Estad√≠sticas:**
- Total de usuarios
- Total de inscripciones
- Ingresos totales
- Cursos m√°s populares

***

### **6. /docs/USER_MANUAL.md** - Manual del Usuario (150-200 l√≠neas)

**Para Estudiantes:**

#### **Registro y Login**
- Ir a `/registro`
- Completar formulario (nombre, email, contrase√±a)
- Recibir√°s email de bienvenida
- Inicia sesi√≥n en `/login`

#### **Explorar Cursos**
- Ver cat√°logo en `/cursos`
- Click en curso para ver detalle completo
- Ver temario (m√≥dulos y lecciones)

#### **Inscribirse a un Curso**
- Click en "Inscribirse"
- Proceder al checkout
- Ingresar datos de tarjeta
- Confirmar pago

#### **Acceder a Mis Cursos**
- Ir a `/alumnos` (√°rea de estudiante)
- Ver lista de cursos inscritos
- Click en curso para acceder al contenido

#### **Tomar un Curso**
- Ver lecciones en orden
- Marcar lecci√≥n como completada
- Descargar recursos (PDFs, material adicional)
- Ver progreso en porcentaje

#### **Obtener Certificado**
- Al completar 100% del curso
- Descargar certificado en PDF
- Compartir en LinkedIn

#### **Agendar Cita de Terapia**
- Ir a `/agendar`
- Seleccionar fecha en calendario
- Elegir horario disponible
- Completar formulario con datos
- Confirmar cita
- Recibir√°s email con link de videollamada

***

### **7. /docs/SETUP.md** - Setup para Desarrolladores (100-150 l√≠neas)

**Contenido:**

#### **Requisitos**
- Node.js 18+
- PostgreSQL 14+
- npm o pnpm

#### **Instalaci√≥n**
```bash
# Clonar repositorio
git clone [url]

# Instalar dependencias
npm install

# Configurar .env
DATABASE_URL="postgresql://..."
JWT_SECRET="..."
STRIPE_SECRET_KEY="..."
SMTP_HOST="smtp.gmail.com"
SMTP_USER="..."
SMTP_PASS="..."

# Ejecutar migraciones
npx prisma migrate dev

# Poblar base de datos
npm run seed

# Iniciar desarrollo
npm run dev
```

#### **Scripts Disponibles**
- `npm run dev` - Desarrollo
- `npm run build` - Compilar producci√≥n
- `npm run preview` - Preview producci√≥n
- `npm run seed` - Poblar datos de ejemplo
- `npx prisma studio` - Ver base de datos visual

#### **Testing**
```bash
# Ejecutar tests
npm run test

# Tests con coverage
npm run test:coverage
```

***

### **8. /docs/DEPLOYMENT.md** - Gu√≠a de Despliegue (80-100 l√≠neas)

**Contenido:**

#### **Despliegue en Replit**
- Variables de entorno en Secrets
- Configurar PostgreSQL
- Deploy autom√°tico al hacer push

#### **Despliegue en Producci√≥n (Alternativas)**

**Frontend (Vercel/Netlify):**
```bash
npm run build
# Subir carpeta /client/dist
```

**Backend (Railway/Render/AWS):**
```bash
# Configurar DATABASE_URL de PostgreSQL
# Ejecutar migraciones: npx prisma migrate deploy
# Iniciar: npm run start
```

#### **Configuraci√≥n de Dominio Personalizado**
#### **SSL/HTTPS Obligatorio**
#### **Backups de Base de Datos**

***

### **9. /docs/TROUBLESHOOTING.md** - Soluci√≥n de Problemas (80-100 l√≠neas)

**Problemas Comunes:**

**Error: "JWT token inv√°lido"**
- Soluci√≥n: Verificar JWT_SECRET en .env

**Error: "Base de datos no conecta"**
- Soluci√≥n: Verificar DATABASE_URL

**Error: "Prisma Client error"**
- Soluci√≥n: `npx prisma generate`

**Error: "CORS blocked"**
- Soluci√≥n: Verificar configuraci√≥n de CORS en server/index.ts

**No llegan emails**
- Soluci√≥n: Verificar credenciales SMTP

***

### **10. /docs/CHANGELOG.md** - Historial de Cambios

**Formato:**
```markdown
# Changelog

## [1.0.0] - 2025-11-09
### Added
- Sistema de autenticaci√≥n JWT
- CRUD completo de cursos
- Sistema de inscripciones
- Panel de administraci√≥n
- Integraci√≥n con Stripe
- Sistema de citas

### Changed
- Migrado de HTML vanilla a React

### Fixed
- Bug en c√°lculo de progreso
```

***

## ‚úÖ REQUISITOS DE FORMATO

- Usar Markdown con sintaxis correcta
- Incluir diagramas en formato Mermaid donde sea apropiado
- C√≥digo con syntax highlighting (```typescript, ```
- Secciones con headers claros (##, ###)
- Ejemplos de c√≥digo funcionales y testeados
- TOC (Table of Contents) al inicio de documentos largos
- Links entre documentos cuando se referencien

***

## üéØ PRIORIDAD DE GENERACI√ìN

1. **CR√çTICO:** API.md, ADMIN_MANUAL.md, USER_MANUAL.md
2. **IMPORTANTE:** README.md, ARCHITECTURE.md, DATABASE.md  
3. **COMPLEMENTARIO:** SETUP.md, DEPLOYMENT.md, TROUBLESHOOTING.md, CHANGELOG.md

***

**Genera todos los archivos de forma exhaustiva pero concisa, con ejemplos pr√°cticos y claros. La documentaci√≥n debe permitir que cualquier desarrollador o usuario pueda entender y usar el sistema sin ayuda adicional.**

